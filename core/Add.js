// Generated by CoffeeScript 1.4.0
(function() {
  var Add, Task, db;

  db = require('./Db.js');

  Task = require('./model/Task.js');

  Add = {
    args: null,
    init: function(args) {
      var task;
      Add.args = args;
      if (Add.args.length === 1) {
        task = new Task();
        task.setDescription(Add.args[0]);
        task.setCreatedAt(new Date());
        task.setPostponed(0);
        return Add.addTask(task);
      }
    },
    addTask: function(task) {
      return db.init(function(db) {
        return db.insertTask(task, function() {
          task.setId(this.lastID);
          return console.log("Task #" + (task.getId()) + " added");
        });
      });
    }
  };

  module.exports = Add;

}).call(this);
